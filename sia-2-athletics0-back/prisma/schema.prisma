// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

//placeholder so far hehe
model Person {
  id                     Int         @id @default(autoincrement())
  firstName              String
  lastName               String
  emergencyContact       Int
  emergencyContactPerson String
  nationality            String
  weight                 Float
  height                 Float
  bloodId                Int         @map("BloodId")
  bloodType              String      
  acadYear               Int
  statusId               Int         @map("StatusId")
  status                 Status      @relation(fields: [statusId], references: [id])

  // timestaps for when the record is created and last updated
  createdAt DateTime @default(now()) @map("CreatedAt")
  updatedAt DateTime @updatedAt @map("UpdatedAt")

  Student Student[]
}

model Student {
  id       Int    @id @default(autoincrement())
  personId Int    @map("PersonId")
  person   Person @relation(fields: [personId], references: [id])
  course   String

}

model Status {
  id       Int      @id @default(autoincrement())
  type     String
  isActive Boolean
  people   Person[]
}

model Sport {
  id   Int    @id @default(autoincrement())
  name String
  //should add student model, connect student model to sport
}

model Events {
  id            Int            @id @default(autoincrement())
  name          String
  startDate     DateTime
  endDate       DateTime
  sportId       Int            @map("SportId")
  externalEvent ExternalEvent? @relation(fields: [externalEventId], references: [id])
  internalEvent InternalEvent? @relation(fields: [internalEventId], references: [id])


  //add description for the events
  createdAt DateTime @default(now()) @map("CreatedAt")
  updatedAt DateTime @updatedAt @map("UpdatedAt")

  // foreign keys
  externalEventId Int? @map("ExternalEventId")
  internalEventId Int? @map("InternalEventId")
}

model ExternalEvent {
  id   Int    @id @default(autoincrement())
  name String

  
  createdAt DateTime @default(now()) @map("CreatedAt")
  updatedAt DateTime @updatedAt @map("UpdatedAt")

  // rs
  events Events[]
}

model InternalEvent {
  id   Int    @id @default(autoincrement())
  name String
  createdAt DateTime @default(now()) @map("CreatedAt")
  updatedAt DateTime @updatedAt @map("UpdatedAt")

  // rs
  events Events[]
}

//idk why i added this basta i did üßç‚Äç‚ôÄÔ∏è
enum personRole {
  FACULTY
  STUDENT
}
